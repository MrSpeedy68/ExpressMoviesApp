{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\MrSpeedy\\\\Desktop\\\\Local Github\\\\MoviesApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\MrSpeedy\\\\Desktop\\\\Local Github\\\\MoviesApp\\\\src\\\\pages\\\\homePage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"../components/headerMovieList\";\nimport MovieList from \"../components/movieList\";\nimport FilterControls from \"../components/filterControls\";\n\nvar MovieListPage = () => {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      titleFilter = _useState2[0],\n      setTitleFilter = _useState2[1]; // NEW\n\n\n  var _useState3 = useState(\"0\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      genreFilter = _useState4[0],\n      setGenreFilter = _useState4[1]; // NEW\n\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      movies = _useState6[0],\n      setMovies = _useState6[1];\n\n  useEffect(() => {\n    fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=8b4046823b036ee3111a70918a391640&language=en-US&include_adult=false&page=1\").then(res => res.json()).then(json => {\n      console.log(json);\n      return json.results;\n    }).then(movies => {\n      setMovies(movies);\n    });\n  }, []); // NEW BLOCK START\n\n  var genre = Number(genreFilter);\n  var displayedMovies = movies.filter(m => {\n    return m.title.toLowerCase().search(titleFilter.toLowerCase()) !== -1;\n  }).filter(m => {\n    return genre > 0 ? m.genre_ids.includes(Number(genreFilter)) : true;\n  });\n\n  var handleFilterChange = (type, value) => {\n    if (type === \"name\") setTitleFilter(value);else setGenreFilter(value);\n  }; // NEW BLOCK END\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    numMovies: displayedMovies.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), \"          \", /*#__PURE__*/React.createElement(FilterControls, {\n    onUserInput: handleFilterChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), \"    \", /*#__PURE__*/React.createElement(MovieList, {\n    movies: displayedMovies,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), \"                  \");\n};\n\nexport default MovieListPage;","map":{"version":3,"sources":["C:/Users/MrSpeedy/Desktop/Local Github/MoviesApp/src/pages/homePage.js"],"names":["React","useState","useEffect","Header","MovieList","FilterControls","MovieListPage","titleFilter","setTitleFilter","genreFilter","setGenreFilter","movies","setMovies","fetch","then","res","json","console","log","results","genre","Number","displayedMovies","filter","m","title","toLowerCase","search","genre_ids","includes","handleFilterChange","type","value","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAEA,IAAMC,aAAa,GAAG,MAAM;AAAA,kBACYL,QAAQ,CAAC,EAAD,CADpB;AAAA;AAAA,MACnBM,WADmB;AAAA,MACNC,cADM,kBACgC;;;AADhC,mBAEYP,QAAQ,CAAC,GAAD,CAFpB;AAAA;AAAA,MAEnBQ,WAFmB;AAAA,MAENC,cAFM,kBAEgC;;;AAFhC,mBAIET,QAAQ,CAAC,EAAD,CAJV;AAAA;AAAA,MAInBU,MAJmB;AAAA,MAIXC,SAJW;;AAK1BV,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,KAAK,kIAAL,CAGGC,IAHH,CAGQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHf,EAIGF,IAJH,CAIQE,IAAI,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAOA,IAAI,CAACG,OAAZ;AACD,KAPH,EAQGL,IARH,CAQQH,MAAM,IAAI;AACdC,MAAAA,SAAS,CAACD,MAAD,CAAT;AACD,KAVH;AAWD,GAZQ,EAYN,EAZM,CAAT,CAL0B,CAmB1B;;AACA,MAAMS,KAAK,GAAGC,MAAM,CAACZ,WAAD,CAApB;AACA,MAAIa,eAAe,GAAGX,MAAM,CACzBY,MADmB,CACZC,CAAC,IAAI;AACX,WAAOA,CAAC,CAACC,KAAF,CAAQC,WAAR,GAAsBC,MAAtB,CAA6BpB,WAAW,CAACmB,WAAZ,EAA7B,MAA4D,CAAC,CAApE;AACD,GAHmB,EAInBH,MAJmB,CAIZC,CAAC,IAAI;AACX,WAAOJ,KAAK,GAAG,CAAR,GAAYI,CAAC,CAACI,SAAF,CAAYC,QAAZ,CAAqBR,MAAM,CAACZ,WAAD,CAA3B,CAAZ,GAAwD,IAA/D;AACD,GANmB,CAAtB;;AAQA,MAAMqB,kBAAkB,GAAG,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAC1C,QAAID,IAAI,KAAK,MAAb,EAAqBvB,cAAc,CAACwB,KAAD,CAAd,CAArB,KACKtB,cAAc,CAACsB,KAAD,CAAd;AACN,GAHD,CA7B0B,CAiC1B;;;AACA,sBACE,uDACE,oBAAC,MAAD;AAAQ,IAAA,SAAS,EAAEV,eAAe,CAACW,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,6BAEE,oBAAC,cAAD;AAAgB,IAAA,WAAW,EAAEH,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,uBAGE,oBAAC,SAAD;AAAW,IAAA,MAAM,EAAER,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,uBADF;AAOD,CAzCD;;AA2CA,eAAehB,aAAf","sourcesContent":["import React, {useState, useEffect } from \"react\";\r\nimport Header from \"../components/headerMovieList\";\r\nimport MovieList from \"../components/movieList\";\r\nimport FilterControls from \"../components/filterControls\";\r\n\r\nconst MovieListPage = () => {\r\n  const [titleFilter, setTitleFilter] = useState(\"\");       // NEW\r\n  const [genreFilter, setGenreFilter] = useState(\"0\");      // NEW\r\n\r\n  const [movies, setMovies] = useState([])\r\n  useEffect(() => {\r\n    fetch(\r\n      `https://api.themoviedb.org/3/discover/movie?api_key=8b4046823b036ee3111a70918a391640&language=en-US&include_adult=false&page=1`\r\n    )\r\n      .then(res => res.json())\r\n      .then(json => {\r\n        console.log(json)\r\n        return json.results\r\n      })\r\n      .then(movies => {\r\n        setMovies(movies);\r\n      });\r\n  }, []);\r\n\r\n  // NEW BLOCK START\r\n  const genre = Number(genreFilter)\r\n  let displayedMovies = movies\r\n    .filter(m => {\r\n      return m.title.toLowerCase().search(titleFilter.toLowerCase()) !== -1;\r\n    })\r\n    .filter(m => {\r\n      return genre > 0 ? m.genre_ids.includes(Number(genreFilter)) : true;\r\n    });\r\n\r\n  const handleFilterChange = (type, value) => {\r\n    if (type === \"name\") setTitleFilter(value);\r\n    else setGenreFilter(value);\r\n  };\r\n  // NEW BLOCK END\r\n  return (\r\n    <>\r\n      <Header numMovies={displayedMovies.length} />          {/* CHANGED */}\r\n      <FilterControls onUserInput={handleFilterChange} />    {/* CHANGED */}\r\n      <MovieList movies={displayedMovies} />                  {/* CHANGED */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieListPage;"]},"metadata":{},"sourceType":"module"}